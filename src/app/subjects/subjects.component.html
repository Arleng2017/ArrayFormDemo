<div class="container">
    <div class="row mt-4 text-end">
        <div class="col-12">
            <button class="btn btn-primary" (click)="createSubject()">Create Subject</button>
            <button class="btn btn-primary" (click)="openCancel()">Cancel</button>
            <button class="btn btn-primary" (click)="openError()">Error</button>
        </div>
    </div>
    <form class="row" [formGroup]="form" (ngSubmit)="onSubmit()">
        <div [ngClass]="isSubmitted ? 'was-validated':''">
            <div class="col-6">
                <label class="form-label">Teacher</label>
                <input type="text" class="form-control" placeholder="name of teacher" formControlName="teacherName"
                    [required]="form.controls['teacherName'].invalid ">
            </div>
            <div class="col-12" formArrayName="lessons">
                <div *ngFor="let lesson of lessons.controls;let i = index;" class="col-12 d-flex mt-2"
                    [formGroupName]="i">
                    <div class="form-group col-5 pl-2">
                        <label for="titlte" class="form-label">Title</label>
                        <input type="text" class="form-control" placeholder="title input" formControlName="title"
                            [required]="lesson.get('title')?.invalid? true: false">
                    </div>
                    <div class="form-group col-5 pl-2">
                        <label for="title" class="form-label">Level</label>
                        <select name="level" id="level" class="form-select" formControlName="level"
                            [required]="lesson.get('level')?.invalid ? true:false">
                            <option value="beginner">Beginner</option>
                            <option value="medium">Medium</option>
                            <option value="hard">Hard</option>
                        </select>
                    </div>
                    <div class="mt-4 pt-2 pl-2">
                        <button type="button" class="btn btn-danger" (click)="deleteLesson(i)">Remove</button>
                    </div>
                </div>
            </div>
            <div class="mt-4">
                <button type="button" class="btn btn-primary" (click)="addLesson()">Add Lesson</button>
            </div>
        </div>
        <div class="mt-4 text-center">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
    </form>
</div>